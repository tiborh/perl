#!/usr/bin/perl -w

use strict;
use utf8;
use encoding 'utf8';

my %kanji_data = (
    日 => {			# １９１５
	音 => {
	    ニチ => [qw(日夜 日中 毎日 今日 一日 日本 土日)],
	    ジツ => [qw(本日 平日 日月)],
	},
	訓 => {
	    ひ => [qw(日時計 日の出 日の入り 朝日 日々 日に日に)],
	    ーび => [qw(日曜日 誕生日)],
	    ーか =>  [qw(三日前 十月十日)],
	    },
	特 => [qw(今日 一日 明日 昨日)], # とく
	英 => [qw(day sun Japan)],
    },
    木 => {			# ２１４９
	音 => {
	    ボク => [qw(木石 香木 原木)],
	    モク => [qw(草木 木材 木造の)],
	},
	訓 => {
	    き => [qw(植木 苗木 木登り 木彫り 白木)],
	    ーこ => [qw(木陰 木立)],
	},
	特 => [qw(木綿)],
	英 => [qw(tree wood)],
    },
    本 => {			# ２１８３
	音 => {
	    ホン => [qw(日本 本国 本来 見本 手本 本屋 読本 本日 本年 本土 本当に 本名 八本の鉛筆)],
	},
	訓 => {
	    もと => [qw(国の本 一本の草)],
	},
	特 => [qw()],
	英 => [qw(basis book this)],
    },
    末 => {			# ２１８４
	音 => {
	    マツ => [qw(末尾 年末 週末 結末 末日 本末 末端 粉末 月末 末期 末期的)],
	    バツ => [qw(末弟 末流)],
	},
	訓 => {
	    すえ => [qw(三月の末 末っ子 末に 末の末 末々)],
	},
	特 => [qw(末枯れ 末若い 末葉)],
	英 => ["last part"],
    },
    未 => {			# ２１８５
	音 => {
	    ミ => [qw(未来 未知の 未定の 前代未聞の)],
	},
	訓 => {
	    "いま·だ" => [qw(未だ嘗て無偉大な人)],
	    "ま·だ" => [qw(彼は未だ来ていない)],
	},
	特 => [qw()],
	英 => ["not yet"],
    },
    零 => {			# １７８６
	音 => {
	    レイ => [qw(零下 零時 零点 零細)],
	},
	訓 => {
	    "こぼ·す" => [qw(落ち零れ 零す 取零す 零れる)],
	},
	特 => [qw(零戦)],
	英 => [qw(zero)],
    },
    );

my %word_data = (
    日夜 => {
	平仮名 => [qw(にちや)],
	英 => ["day and night"],
	例 => {
	    一 => {
	       日 => "看護婦たちは、日夜患者の世話をした。",
	       英 => "The nurses attend to the patient day and night.",
	    },
	    二 => {
	       日 => "彼は金持ちになるために、日夜働いた。",
	       英 => "He worked day and night so that he might become rich.",
	    },
	},
    },
    日中 => {
	平仮名 => [qw(にっちゅう)],
	英 => ["during the day"],
	例 => {
	    一 => {
	       日 => "",
	       英 => "",
	    },
	    二 => {
	       日 => "",
	       英 => "",
	    },
	},
    },
    毎日 => {
	平仮名 => [qw(まいにち)],
	英 => ["every day"],
	例 => {
	    一 => {
		日 => "",
		英 => "",
	    },
	    二 => {
		日 => "",
		英 => "",
	    },
	},
    },
    今日 => {
	平仮名 => [qw(こんにち)],
	英 => ["today", "these days"],
	例 => {
	    一 => {
		日 => "",
		英 => "",
	    },
	    二 => {
		日 => "",
		英 => "",
	    },
	},
    },
    一日 => {
	平仮名 => [qw(いちにち)],
	英 => ["a day", "all day"],
	例 => {
	    一 => {
	       日 => "",
	       英 => "",
	    },
	    二 => {
	       日 => "",
	       英 => "",
	    },
	},
    },
    日本 => {
	平仮名 => [qw(にっぽん にほん)],
	英 => [qw(Japan)],
	例 => {
	    一 => {
	       日 => "",
	       英 => "",
	    },
	    二 => {
	       日 => "",
	       英 => "",
	    },
	},
    },
    本日 => {
	平仮名 => [qw(ほんじつ)],
	英 => [qw(today)],
	例 => {
	    一 => {
	       日 => "",
	       英 => "",
	    },
	    二 => {
	       日 => "",
	       英 => "",
	    },
	},
    },
    平日 => {
	平仮名 => [qw(へいじつ)],
	英 => [qw(weekday)],
	例 => {
	    一 => {
	       日 => "",
	       英 => "",
	    },
	    二 => {
	       日 => "",
	       英 => "",
	    },
	},
    },
    日月 => {
	平仮名 => [qw(じつげつ)],
	英 => ["sun and moon", "time", "days", "years"],
        例 => {
	    一 => {
		日 => "",
		英 => "",
	    },
	    二 => {
		日 => "",
		英 => "",
	    },
        },
    },
    土日 => {
	平仮名 => [qw(どにち)],
	英 => ["Saturday and Sunday", "weekend"],
        例 => {
	    一 => {
		日 => "",
		英 => "",
	    },
	    二 => {
		日 => "",
		英 => "",
	    },
        },
    },
    );

&print_kanji_data(\%kanji_data,\%word_data);

sub print_kanji_data {
    my %kanji_data = %{$_[0]};
    my %word_data = %{$_[1]};

    foreach my $漢字 (sort keys %kanji_data) {
	print "$漢字\n";
	foreach my $読み (sort keys %{$kanji_data{$漢字}}) {
	    print "\t$読み\n";
	    if (($読み eq "英") or ($読み eq "特")) {
		foreach (@{$kanji_data{$漢字}{$読み}}) {
		    print "\t\t$_\n";
		} 
	    } else {
		foreach my $reading (sort keys %{$kanji_data{$漢字}{$読み}}) {
		    print "\t\t$reading\n";
		    foreach (@{$kanji_data{$漢字}{$読み}{$reading}}) {
			my $言葉 = (exists $word_data{$_}) ? "（@{$word_data{$_}{平仮名}}） @{$word_data{$_}{英}}" : "（零）";
			print "\t\t\t$_： \t$言葉\n";
		    }
		}
	    }
	}
    }

}

# print "@{$kanji_data{日}{音}{ニチ}}\n";
# print "$word_data{日夜}{例}{一}{日}\n";
# print "$word_data{日夜}{例}{一}{英}\n";
# print "$_\n" foreach (keys %{$kanji_data{日}{音}});
# print "$_\n" foreach (keys %{$kanji_data{日}{訓}});
#foreach my $key (sort keys %kanji_data) {
#    print "$key\n";
#}

# my %字書_template = (
#     言葉 => {
# 	平仮名 => [qw()],
# 	英 => [""],
#         例 => {
# 	    一 => {
# 		日 => "",
# 		英 => "",
# 	    },
# 	    二 => {
# 		日 => "",
# 		英 => "",
# 	    },
#         },
#     },
# );

# my %漢字_template = (
#     漢字 => {
# 	音 => {
# 	   片假名  => [qw()],
# 	},
# 	訓 => {
# 	   平仮名 => [qw()],
# 	},
# 	特 => [qw()],
# 	英 => [qw()],
#     },
#     );
